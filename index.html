<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hayat Battleship Calculator</title>

    <link rel="stylesheet" href="./styles/main.css" />
    <script type="module" src="./libs/jquery.js"></script>
  </head>
  <body class="scrollbar">



    <!-- ----------------------------------------------------------------------- -->
    <!--                                   MAP                                   -->
    <!-- ----------------------------------------------------------------------- -->


    <div class="map">
      <canvas id="grid" width="2000" height="2000"></canvas>
      <canvas id="map" width="8000" height="8000"></canvas>
      <canvas id="overlay" width="2000" height="2000"></canvas>
    </div>



    <!-- ----------------------------------------------------------------------- -->
    <!--                                  TABS                                   -->
    <!-- ----------------------------------------------------------------------- -->


    <!-- ------------------------------ Controls ------------------------------- -->
    
    <div class="tab-controls">
      <button id="tab-settings"><span class="mgc_settings_3_line"></span></button>
      <button id="tab-save"><span class="mgc_save_2_line"></span></button>
      <button id="tab-map_set"><span class="mgc_map_line"></span></button>
      <button id="tab-new_object"><span class="mgc_add_square_line"></span></button>
      <button id="tab-maneuver"><span class="mgc_edit_2_line"></span></button>
    </div>


    <!-- -------------------------------- Step --------------------------------- -->

    <div class="main-controls">
      <button id="main_controls-step">STEP</button>


      <!-- -------------------------------- Logs --------------------------------- -->

      <div class="step-logs" id="main_controls-step_logs" data-active="false">
        <div class="step-logs-hide" id="step-logs_hide">
          <span class="mgc_arrow_down_line"></span>
          <span class="mgc_arrow_down_line"></span>
          <span class="mgc_arrow_down_line"></span>
          <span class="mgc_arrow_down_line"></span>
          <span class="mgc_arrow_down_line"></span>
        </div>
        <div class="chat-container scrollbar" id="step-logs_chat-container">

        </div>
        <div class="progress-bar" id="step-process-bar">
          <div class="bar"></div>
        </div>
      </div>
    </div>


    <!-- ---------------------------- Relative Data ---------------------------- -->

    <div class="relative" id="relative" data-active="false">
      <button><span class="mgc_close_line"></span></button>
      <div class="scrollbar">
        <div id="relative-contains" class="contains">

        </div>
      </div>
    </div>



    <!-- ----------------------------------------------------------------------- -->
    <!--                                 MODALS                                  -->
    <!-- ----------------------------------------------------------------------- -->


    <div class="modals">


      <!-- ---------------------------- Map Settings ----------------------------- -->

      <div 
        class="modal map-settings" 
        id="modal-settings" 
        data-active="false"
        data-html="./html/modal/settings.html"
      ></div>


      <!-- ----------------------------- Save & Load ----------------------------- -->

      <div 
        class="modal map-load" 
        id="modal-map_load" 
        data-active="false"
        data-html="./html/modal/map-load.html"
      ></div>

      
      <!-- ------------------------------ Map View ------------------------------- -->

      <div 
        class="modal map-set" 
        id="modal-map_set" 
        data-active="false"
        data-html="./html/modal/map-set.html"
      ></div>


      <!-- ----------------------------- Add Object ------------------------------ -->

      <div 
        class="modal new-object" 
        id="modal-new_object" 
        data-active="false"
        data-html="./html/modal/new-object.html"
      ></div>



      <!-- ----------------------------------------------------------------------- -->
      <!--                             Object Control                              -->
      <!-- ----------------------------------------------------------------------- -->


      <div class="modal maneuver" id="modal-maneuver" data-active="false">


        <!-- ----------------------------- ID Selector ----------------------------- -->

        <div>
          <label for="modal-maneuver-id"
            >ID: </label
          ><input id="modal-maneuver-id" class="fit" placeholder="" />
          <button class="inline aim" id="modal-maneuver-aim"><span class="mgc_aiming_line"></span></button>
        </div>


        <!-- --------------------------- Sub-Tab Select ---------------------------- -->

        <select id="modal-maneuver-type">
          <option value="maneuver" selected>Maneuver</option> 
          <option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>
          <option value="jump_calc">Jump Calculation</option>
          <option value="contact">Contact</option>
          <option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>
          <option value="modules">Modules</option>
          <option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>
          <option value="tasks">Tasks</option>
          <option value="override">Override</option>
          <option value="template">Template</option>
          <option value="delete">Delete</option>
        </select>


        <!-- -------------------------------- Tabs --------------------------------- -->

        <div id="modal-maneuver-types" class="sub">


          <!-- ------------------------------ Maneuver ------------------------------- -->

          <div 
            id="modal-maneuver-types-maneuver" 
            data-active="true" 
            data-html="./html/modal/maneuver/maneuver.html"
          ></div>


          <!-- ---------------------------- Hud (unused) ----------------------------- -->

          <div id="modal-maneuver-types-hud" data-active="false">
            
          </div>


          <!-- -------------------------- Jump Calculation --------------------------- -->

          <div 
            id="modal-maneuver-types-jump_calc" 
            data-active="false"
            data-html="./html/modal/maneuver/jump_calc.html"
          ></div>


          <!-- ------------------------------- Contact ------------------------------- -->

          <div 
            id="modal-maneuver-types-contact" 
            data-active="false"
            data-html="./html/modal/maneuver/contact.html"
          ></div>


          <!-- ------------------------------- Modules ------------------------------- -->

          <div 
            id="modal-maneuver-types-modules" 
            data-active="false"
            data-html="./html/modal/maneuver/modules.html"
          ></div>


          <!-- -------------------------------- Tasks -------------------------------- -->

          <div id="modal-maneuver-types-tasks" data-active="false">
            
          </div>


          <!-- ------------------------------ Override ------------------------------- -->

          <div 
            id="modal-maneuver-types-override" 
            data-active="false"
            data-html="./html/modal/maneuver/override.html"
          ></div>


          <!-- ------------------------------ Template ------------------------------- -->

          <div 
            id="modal-maneuver-types-template" 
            data-active="false"
            data-html="./html/modal/maneuver/template.html"
          ></div>


          <!-- ------------------------------- Delete -------------------------------- -->

          <div id="modal-maneuver-types-delete" data-active="false">
            <p>Press the button to delete</p>
          </div>
        </div>

        <button id="modal-maneuver-complete">Set</button>
      </div>
    </div>



    <!-- ----------------------------------------------------------------------- -->
    <!--                              CONTEXT MENUS                              -->
    <!-- ----------------------------------------------------------------------- -->


    <!-- ------------------------- Modules Contex Menu ------------------------- -->

    <div id="modal-maneuver-types-modules-contextmenu" style="left: 200px; top: 200px;" data-active="false">
      <div class="state">
        <label id="offline">â­•</label>
        <label id="online">ðŸ”˜</label>
        <label id="active">ðŸŸ¢</label>
        <label id="overload">ðŸ’¢</label>
      </div>
      <button id="delete">Delete</button>
    </div>



    <!-- ----------------------------------------------------------------------- -->
    <!--                             LOADING MODALS                              -->
    <!-- ----------------------------------------------------------------------- -->
    

    <div id="loading-modals" class="loading-modals" data-active="true">


      <!-- ----------------- Initial modules/battleships loading ----------------- -->

      <div id="loading-inital" data-active="true">
        <p class="points">Loading modules</p>
        <div class="progress-bar" id="loading-inital-bar-modules">
          <div class="bar"></div>
        </div>
        <p class="points">Loading battleships</p>
        <div class="progress-bar" id="loading-inital-bar-battleships">
          <div class="bar"></div>
        </div>
      </div>


      <!-- ---------------------------- Level loading ---------------------------- -->

      <div id="loading-level" data-active="false">
        <p class="points">Loading level</p>
        <div class="progress-bar" id="loading-level-bar">
          <div class="bar"></div>
        </div>
      </div>
    </div>



    <!-- ----------------------------------------------------------------------- -->
    <!--                                 SCRIPTS                                 -->
    <!-- ----------------------------------------------------------------------- -->

    <script>
      console.log(' ------ templates load ------ ')
      document.querySelectorAll('[data-html]').forEach(async elem => {
        console.log(elem.dataset.html);
        const response = await fetch(elem.dataset.html);
        elem.innerHTML = await response.text();
      });
    </script>
    <script type="module" src="./js/main.js"></script>
  </body>
</html>
